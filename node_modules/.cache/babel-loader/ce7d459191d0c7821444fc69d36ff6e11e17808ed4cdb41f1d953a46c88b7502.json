{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{Row,Col}from'react-bootstrap';import Product from'../components/Product';import Loader from'../components/Loader';import Message from'../components/Message';import Paginate from'../components/Paginate';import ProductCarousel from'../components/ProductCarousel';import{listProducts}from'../actions/productActions';import AnimatedPage from'../components/AnimatedPage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ShopScreen(_ref){var history=_ref.history;var dispatch=useDispatch();var productList=useSelector(function(state){return state.productList;});var error=productList.error,loading=productList.loading,products=productList.products,page=productList.page,pages=productList.pages;var keyword=history.location.search;useEffect(function(){dispatch(listProducts(keyword));},[dispatch,keyword]);return/*#__PURE__*/_jsx(AnimatedPage,{children:/*#__PURE__*/_jsxs(\"div\",{children:[!keyword&&/*#__PURE__*/_jsx(ProductCarousel,{}),/*#__PURE__*/_jsx(\"h1\",{className:\"mt-5\",children:\"Latest Products\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Row,{children:products.map(function(product){return/*#__PURE__*/_jsx(Col,{sm:12,md:6,lg:4,xl:3,children:/*#__PURE__*/_jsx(Product,{product:product})},product._id);})}),/*#__PURE__*/_jsx(Paginate,{page:page,pages:pages,keyword:keyword})]})]})});}export default ShopScreen;","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","Row","Col","Product","Loader","Message","Paginate","ProductCarousel","listProducts","AnimatedPage","jsx","_jsx","jsxs","_jsxs","ShopScreen","_ref","history","dispatch","productList","state","error","loading","products","page","pages","keyword","location","search","children","className","variant","map","product","sm","md","lg","xl","_id"],"sources":["/Users/francesco/Downloads/ecommerce copia/backend/frontend/src/screens/ShopScreen.js"],"sourcesContent":["import React, { useEffect} from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Row, Col } from 'react-bootstrap'\nimport Product from '../components/Product'\nimport Loader from '../components/Loader'\nimport Message from '../components/Message'\nimport Paginate from '../components/Paginate'\nimport ProductCarousel from '../components/ProductCarousel'\nimport { listProducts } from '../actions/productActions'\nimport AnimatedPage from '../components/AnimatedPage'\n\n\n\n\nfunction ShopScreen({ history }) {\n\n  const dispatch = useDispatch()\n  const productList = useSelector(state => state.productList)\n  const {error, loading, products, page, pages} = productList\n\n  let keyword = history.location.search\n  \n  useEffect(() => {\n    dispatch(listProducts(keyword))\n  \n }, [dispatch, keyword])\n \n\n  return (\n    <AnimatedPage>\n    <div>\n      {!keyword && <ProductCarousel/>}\n        \n        <h1 className='mt-5'>Latest Products</h1>\n        {loading ? <Loader/>\n          : error ? <Message variant='danger' >{error}</Message>\n                    \n            :\n          <div>\n            <Row> \n            {products.map(product => (\n                <Col key={product._id} sm={12} md={6} lg={4} xl={3}>\n                    <Product product={product}/>\n                </Col>\n\n                ))}\n            </Row>\n              <Paginate page={page} pages={pages} keyword={keyword}/>\n          </div> \n          }\n    </div>\n    </AnimatedPage>\n  )\n}\n\nexport default ShopScreen"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAO,OAAO,CACvC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,GAAG,CAAEC,GAAG,KAAQ,iBAAiB,CAC1C,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAC7C,MAAO,CAAAC,eAAe,KAAM,+BAA+B,CAC3D,OAASC,YAAY,KAAQ,2BAA2B,CACxD,MAAO,CAAAC,YAAY,KAAM,4BAA4B,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAKrD,QAAS,CAAAC,UAAUA,CAAAC,IAAA,CAAc,IAAX,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CAE3B,GAAM,CAAAC,QAAQ,CAAGlB,WAAW,EAAE,CAC9B,GAAM,CAAAmB,WAAW,CAAGlB,WAAW,CAAC,SAAAmB,KAAK,QAAI,CAAAA,KAAK,CAACD,WAAW,GAAC,CAC3D,GAAO,CAAAE,KAAK,CAAoCF,WAAW,CAApDE,KAAK,CAAEC,OAAO,CAA2BH,WAAW,CAA7CG,OAAO,CAAEC,QAAQ,CAAiBJ,WAAW,CAApCI,QAAQ,CAAEC,IAAI,CAAWL,WAAW,CAA1BK,IAAI,CAAEC,KAAK,CAAIN,WAAW,CAApBM,KAAK,CAE5C,GAAI,CAAAC,OAAO,CAAGT,OAAO,CAACU,QAAQ,CAACC,MAAM,CAErC7B,SAAS,CAAC,UAAM,CACdmB,QAAQ,CAACT,YAAY,CAACiB,OAAO,CAAC,CAAC,CAElC,CAAC,CAAE,CAACR,QAAQ,CAAEQ,OAAO,CAAC,CAAC,CAGtB,mBACEd,IAAA,CAACF,YAAY,EAAAmB,QAAA,cACbf,KAAA,QAAAe,QAAA,EACG,CAACH,OAAO,eAAId,IAAA,CAACJ,eAAe,IAAE,cAE7BI,IAAA,OAAIkB,SAAS,CAAC,MAAM,CAAAD,QAAA,CAAC,iBAAe,EAAK,CACxCP,OAAO,cAAGV,IAAA,CAACP,MAAM,IAAE,CAChBgB,KAAK,cAAGT,IAAA,CAACN,OAAO,EAACyB,OAAO,CAAC,QAAQ,CAAAF,QAAA,CAAGR,KAAK,EAAW,cAGtDP,KAAA,QAAAe,QAAA,eACEjB,IAAA,CAACV,GAAG,EAAA2B,QAAA,CACHN,QAAQ,CAACS,GAAG,CAAC,SAAAC,OAAO,qBACjBrB,IAAA,CAACT,GAAG,EAAmB+B,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,CAAE,CAAAR,QAAA,cAC/CjB,IAAA,CAACR,OAAO,EAAC6B,OAAO,CAAEA,OAAQ,EAAE,EADtBA,OAAO,CAACK,GAAG,CAEf,EAEL,CAAC,EACA,cACJ1B,IAAA,CAACL,QAAQ,EAACiB,IAAI,CAAEA,IAAK,CAACC,KAAK,CAAEA,KAAM,CAACC,OAAO,CAAEA,OAAQ,EAAE,GACrD,GAEN,EACS,CAEnB,CAEA,cAAe,CAAAX,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}