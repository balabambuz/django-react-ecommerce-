{"ast":null,"code":"var _jsxFileName = \"/Users/francesco/Desktop/ecommerce/frontend/src/screens/UserListScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { Button, Table } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\nimport { listUsers, deleteUser } from '../actions/userActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserListScreen(_ref) {\n  _s();\n  let {\n    history\n  } = _ref;\n  const dispatch = useDispatch();\n  const userList = useSelector(state => state.userList);\n  const {\n    loading,\n    error,\n    users\n  } = userList;\n  const userLogin = useSelector(state => state.userLogin); //userInfo è l'istanza di un oggetto con un valore bool isAdmin\n  const {\n    userInfo\n  } = userLogin; //destructuring\n\n  const userDelete = useSelector(state => state.userDelete);\n  const {\n    success: successDelete\n  } = userDelete; //serve ad aggiornare l'elenco di users\n\n  useEffect(() => {\n    if (userInfo && userInfo.isAdmin) {\n      dispatch(listUsers());\n    } else {\n      history.push('/login');\n    }\n  }, [dispatch, history, successDelete, userInfo]);\n  const deleteHandler = id => {\n    if (window.confirm('are you sure you want to delete this user?')) {\n      dispatch(deleteUser(id));\n    }\n  };\n\n  // if  ()     else if ()      else ()  A?B:C?D:E\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Users\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }, this) : error ? /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 39\n    }, this) : /*#__PURE__*/_jsxDEV(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      responsive: true,\n      className: \"table-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"NAME\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"EMAIL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ADMIN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: users.map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: user._id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: user.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: user.isAdmin ? /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-check\",\n              style: {\n                color: 'green'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-times\",\n              style: {\n                color: 'red'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [/*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: `/admin/user/${user._id}/edit`,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"light\",\n                className: \"btn-sm\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"danger\",\n              className: \"btn-sm\",\n              onClick: () => deleteHandler(user._id),\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-trash\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 17\n          }, this)]\n        }, user._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(UserListScreen, \"YNOO+Hw1dkxHS+3f09oLaAPEAGA=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n_c = UserListScreen;\nexport default UserListScreen;\nvar _c;\n$RefreshReg$(_c, \"UserListScreen\");","map":{"version":3,"names":["React","useEffect","LinkContainer","Button","Table","useDispatch","useSelector","Loader","Message","listUsers","deleteUser","jsxDEV","_jsxDEV","UserListScreen","_ref","_s","history","dispatch","userList","state","loading","error","users","userLogin","userInfo","userDelete","success","successDelete","isAdmin","push","deleteHandler","id","window","confirm","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","striped","bordered","hover","responsive","className","map","user","_id","name","email","style","color","to","onClick","_c","$RefreshReg$"],"sources":["/Users/francesco/Desktop/ecommerce/frontend/src/screens/UserListScreen.js"],"sourcesContent":["import React, {useEffect} from 'react'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport { Button, Table } from 'react-bootstrap'\nimport {useDispatch, useSelector} from 'react-redux'\nimport Loader from '../components/Loader'\nimport Message from '../components/Message'\nimport { listUsers, deleteUser } from '../actions/userActions'\n\nfunction UserListScreen({ history }) {\n\n    const dispatch = useDispatch()\n\n    const userList = useSelector(state => state.userList)\n    const {loading, error, users} = userList\n\n    const userLogin = useSelector(state => state.userLogin)//userInfo è l'istanza di un oggetto con un valore bool isAdmin\n    const { userInfo } = userLogin //destructuring\n\n    const userDelete = useSelector(state => state.userDelete)\n    const { success:successDelete } = userDelete//serve ad aggiornare l'elenco di users\n\n\n    useEffect(() => {\n      if(userInfo && userInfo.isAdmin){\n        dispatch(listUsers())\n      }else{\n        history.push('/login')\n      }\n        \n    }, [dispatch, history, successDelete, userInfo])\n\n    const deleteHandler = (id) => {\n      \n      if (window.confirm('are you sure you want to delete this user?')) {\n        dispatch(deleteUser(id))\n      }\n       \n    }\n\n\n    // if  ()     else if ()      else ()  A?B:C?D:E\n  return (\n    <div>\n    <h1>Users</h1>\n    \n    {loading ? (<Loader/>) : error ? (<Message variant='danger'>{error}</Message>)\n    : (\n     <Table striped bordered hover responsive className='table-sm'>\n        <thead>\n          <tr>\n            <th>ID</th>\n            <th>NAME</th>\n            <th>EMAIL</th>\n            <th>ADMIN</th>\n            <th></th>\n           </tr>\n        </thead>\n\n        <tbody>\n            {users.map(user => (\n              <tr key={user._id}>\n                <td>{user._id}</td>\n                <td>{user.name}</td>\n                <td>{user.email}</td>\n                <td>{user.isAdmin ? (\n                  <i className='fas fa-check' style={{color : 'green'}}></i>\n                ) : (\n                  <i className='fas fa-times' style={{color : 'red'}}></i>\n                )}</td>\n\n                <td>\n                  <LinkContainer to={`/admin/user/${user._id}/edit`}>\n                    <Button variant='light' className='btn-sm'>\n                        <i className='fas fa-edit'></i>\n                    </Button>\n                  </LinkContainer>\n\n                  <Button variant='danger' className='btn-sm' onClick={() => deleteHandler(user._id)}>\n                    <i className='fas fa-trash'></i>\n                  </Button>\n\n                </td>\n              </tr>\n            ))}\n        </tbody>\n     </Table> \n    )}\n    <Table>\n      <thead>\n\n      </thead>\n      <tbody>\n\n      </tbody>\n    </Table>\n    </div>\n  )\n}\n\n\nexport default UserListScreen"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}