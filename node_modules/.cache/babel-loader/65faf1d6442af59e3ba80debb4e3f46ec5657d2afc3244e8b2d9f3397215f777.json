{"ast":null,"code":"var _jsxFileName = \"/Users/francesco/Desktop/ecommerce/frontend/src/screens/OrderListScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { Button, Table } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\nimport { listOrders } from '../actions/orderActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction OrderListScreen(_ref) {\n  _s();\n  let {\n    history\n  } = _ref;\n  const dispatch = useDispatch();\n  const orderList = useSelector(state => state.orderList);\n  const {\n    loading,\n    error,\n    orders\n  } = orderList;\n  const userLogin = useSelector(state => state.userLogin); //userInfo è l'istanza di un oggetto con un valore bool isAdmin\n  const {\n    userInfo\n  } = userLogin; //destructuring\n\n  useEffect(() => {\n    if (userInfo && userInfo.isAdmin) {\n      dispatch(listOrders());\n    } else {\n      history.push('/login');\n    }\n  }, [dispatch, history, userInfo]);\n\n  // if  ()     else if ()      else ()  A?B:C?D:E\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Orders\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }, this) : error ? /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 39\n    }, this) : /*#__PURE__*/_jsxDEV(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      responsive: true,\n      className: \"table-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"USER\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"DATE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"TOTAL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"PAID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"DELIVERED\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: orders.map(order => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: order._id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: order.user && order.user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: order.createdAt.substring(0, 10)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\"$\", order.totalPrice]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: order.isPaid ? order.paidAt.substring(0, 10) : /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-times\",\n              style: {\n                color: 'red'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: order.isDelivered ? order.deliveredAt.substring(0, 10) : /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-times\",\n              style: {\n                color: 'red'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: `/order/${order._id}/edit`,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"light\",\n                className: \"btn-sm\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  children: \"edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this)]\n        }, order._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_s(OrderListScreen, \"T22Ya5guJBYtT2WBadWLHdx/0BQ=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n_c = OrderListScreen;\nexport default OrderListScreen;\nvar _c;\n$RefreshReg$(_c, \"OrderListScreen\");","map":{"version":3,"names":["React","useEffect","LinkContainer","Button","Table","useDispatch","useSelector","Loader","Message","listOrders","jsxDEV","_jsxDEV","OrderListScreen","_ref","_s","history","dispatch","orderList","state","loading","error","orders","userLogin","userInfo","isAdmin","push","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","striped","bordered","hover","responsive","className","map","order","_id","user","name","createdAt","substring","totalPrice","isPaid","paidAt","style","color","isDelivered","deliveredAt","to","_c","$RefreshReg$"],"sources":["/Users/francesco/Desktop/ecommerce/frontend/src/screens/OrderListScreen.js"],"sourcesContent":["import React, {useEffect} from 'react'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport { Button, Table } from 'react-bootstrap'\nimport {useDispatch, useSelector} from 'react-redux'\nimport Loader from '../components/Loader'\nimport Message from '../components/Message'\nimport { listOrders } from '../actions/orderActions'\n\nfunction OrderListScreen({ history }) {\n\n    const dispatch = useDispatch()\n\n    const orderList = useSelector(state => state.orderList)\n    const {loading, error, orders} = orderList\n\n    const userLogin = useSelector(state => state.userLogin)//userInfo è l'istanza di un oggetto con un valore bool isAdmin\n    const { userInfo } = userLogin //destructuring\n\n    \n    useEffect(() => {\n      if(userInfo && userInfo.isAdmin){\n        dispatch(listOrders())\n      }else{\n        history.push('/login')\n      }\n        \n    }, [dispatch, history, userInfo])\n\n    \n\n    // if  ()     else if ()      else ()  A?B:C?D:E\n  return (\n    <div>\n    <h1>Orders</h1>\n    \n    {loading ? (<Loader/>) : error ? (<Message variant='danger'>{error}</Message>)\n    : (\n     <Table striped bordered hover responsive className='table-sm'>\n        <thead>\n          <tr>\n            <th>ID</th>\n            <th>USER</th>\n            <th>DATE</th>\n            <th>TOTAL</th>\n            <th>PAID</th>\n            <th>DELIVERED</th>\n            <th></th>\n           </tr>\n        </thead>\n\n        <tbody>\n            {orders.map(order => (\n              <tr key={order._id}>\n                <td>{order._id}</td>\n                <td>{order.user && order.user.name}</td>\n                <td>{order.createdAt.substring(0, 10)}</td>\n                <td>${order.totalPrice}</td>\n\n                <td>{order.isPaid ? (\n                  order.paidAt.substring(0, 10)\n                ) : (\n                  <i className='fas fa-times' style={{color : 'red'}}></i>\n                )}\n                </td>\n\n                <td>{order.isDelivered ? (\n                  order.deliveredAt.substring(0, 10)\n                ) : (\n                  <i className='fas fa-times' style={{color : 'red'}}></i>\n                )}\n                </td>\n\n                <td>\n                  <LinkContainer to={`/order/${order._id}/edit`}>\n                    <Button variant='light' className='btn-sm'>\n                        <i>edit</i>\n                    </Button>\n                  </LinkContainer>\n\n                </td>\n              </tr>\n            ))}\n        </tbody>\n     </Table> \n    )}\n    <Table>\n      <thead>\n\n      </thead>\n      <tbody>\n\n      </tbody>\n    </Table>\n    </div>\n  )\n}\n\n\nexport default OrderListScreen"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}