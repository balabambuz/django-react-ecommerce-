{"ast":null,"code":"import React,{useEffect}from'react';import{LinkContainer}from'react-router-bootstrap';import{Button,Table}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import Loader from'../components/Loader';import Message from'../components/Message';import AnimatedPage from'../components/AnimatedPage';import{listOrders}from'../actions/orderActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function OrderListScreen(_ref){var history=_ref.history;var dispatch=useDispatch();var orderList=useSelector(function(state){return state.orderList;});var loading=orderList.loading,error=orderList.error,orders=orderList.orders;var userLogin=useSelector(function(state){return state.userLogin;});//userInfo è l'istanza di un oggetto con un valore bool isAdmin\nvar userInfo=userLogin.userInfo;//destructuring\nuseEffect(function(){if(userInfo&&userInfo.isAdmin){dispatch(listOrders());}else{history.push('/login');}},[dispatch,history,userInfo]);// if  ()     else if ()      else ()  A?B:C?D:E\nreturn/*#__PURE__*/_jsx(AnimatedPage,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Orders\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"USER\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DATE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"TOTAL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PAID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DELIVERED\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(function(order){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order._id}),/*#__PURE__*/_jsx(\"td\",{children:order.user&&order.user.name}),/*#__PURE__*/_jsx(\"td\",{children:order.createdAt.substring(0,10)}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",order.totalPrice]}),/*#__PURE__*/_jsx(\"td\",{children:order.isPaid?order.paidAt.substring(0,10):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\",style:{color:'red'}})}),/*#__PURE__*/_jsx(\"td\",{children:order.isDelivered?order.deliveredAt.substring(0,10):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\",style:{color:'red'}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(LinkContainer,{to:\"/order/\".concat(order._id,\"/edit\"),children:/*#__PURE__*/_jsx(Button,{variant:\"light\",className:\"btn-sm\",children:/*#__PURE__*/_jsx(\"i\",{children:\"Details\"})})})})]},order._id);})})]}),/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(\"thead\",{}),/*#__PURE__*/_jsx(\"tbody\",{})]})]})});}export default OrderListScreen;","map":{"version":3,"names":["React","useEffect","LinkContainer","Button","Table","useDispatch","useSelector","Loader","Message","AnimatedPage","listOrders","jsx","_jsx","jsxs","_jsxs","OrderListScreen","_ref","history","dispatch","orderList","state","loading","error","orders","userLogin","userInfo","isAdmin","push","children","variant","striped","bordered","hover","responsive","className","map","order","_id","user","name","createdAt","substring","totalPrice","isPaid","paidAt","style","color","isDelivered","deliveredAt","to","concat"],"sources":["/Users/francesco/Downloads/ecommerce copia/backend/frontend/src/screens/OrderListScreen.js"],"sourcesContent":["import React, {useEffect} from 'react'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport { Button, Table } from 'react-bootstrap'\nimport {useDispatch, useSelector} from 'react-redux'\nimport Loader from '../components/Loader'\nimport Message from '../components/Message'\nimport AnimatedPage from '../components/AnimatedPage'\nimport { listOrders } from '../actions/orderActions'\n\n\nfunction OrderListScreen({ history }) {\n\n    const dispatch = useDispatch()\n\n    const orderList = useSelector(state => state.orderList)\n    const {loading, error, orders} = orderList\n\n    const userLogin = useSelector(state => state.userLogin)//userInfo è l'istanza di un oggetto con un valore bool isAdmin\n    const { userInfo } = userLogin //destructuring\n\n    \n    useEffect(() => {\n      if(userInfo && userInfo.isAdmin){\n        dispatch(listOrders())\n      }else{\n        history.push('/login')\n      }\n        \n    }, [dispatch, history, userInfo])\n\n    \n\n    // if  ()     else if ()      else ()  A?B:C?D:E\n  return (\n  <AnimatedPage>\n    <div>\n    <h1>Orders</h1>\n    \n    {loading ? (<Loader/>) : error ? (<Message variant='danger'>{error}</Message>)\n    : (\n     <Table striped bordered hover responsive className='table-sm'>\n        <thead>\n          <tr>\n            <th>ID</th>\n            <th>USER</th>\n            <th>DATE</th>\n            <th>TOTAL</th>\n            <th>PAID</th>\n            <th>DELIVERED</th>\n            <th></th>\n           </tr>\n        </thead>\n\n        <tbody>\n            {orders.map(order => (\n              <tr key={order._id}>\n                <td>{order._id}</td>\n                <td>{order.user && order.user.name}</td>\n                <td>{order.createdAt.substring(0, 10)}</td>\n                <td>${order.totalPrice}</td>\n\n                <td>{order.isPaid ? (\n                  order.paidAt.substring(0, 10)\n                ) : (\n                  <i className='fas fa-times' style={{color : 'red'}}></i>\n                )}\n                </td>\n\n                <td>{order.isDelivered ? (\n                  order.deliveredAt.substring(0, 10)\n                ) : (\n                  <i className='fas fa-times' style={{color : 'red'}}></i>\n                )}\n                </td>\n\n                <td>\n                  <LinkContainer to={`/order/${order._id}/edit`}>\n                    <Button variant='light' className='btn-sm'>\n                        <i>Details</i>\n                    </Button>\n                  </LinkContainer>\n\n                </td>\n              </tr>\n            ))}\n        </tbody>\n     </Table> \n    )}\n    <Table>\n      <thead>\n\n      </thead>\n      <tbody>\n\n      </tbody>\n    </Table>\n    </div>\n  </AnimatedPage>\n  )\n}\n\n\nexport default OrderListScreen"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}